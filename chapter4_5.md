<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js">
</script>
<script type="text/x-mathjax-config">
 MathJax.Hub.Config({
 tex2jax: {
 inlineMath: [['$', '$'] ],
 displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
 }
 });
</script>

# 状態空間モデル

状態空間モデルも時系列データ分析のモデル。

従来のモデルでは、観測値のみ着目し、現在の観測値を過去の時刻の観測値から予測するという考えに基づいている。

**状態空間モデル**では、データの生成過程を**状態**と**観測値**の２種類の系列としてモデリングし、**状態から観測値を予測する**。

状態を表すモデル: $s_t = f_t(s_{t-1}, u_t)$  
観測値を表すモデル: $y_t = g_t(s_t, r_t)$

時刻tにおける状態$s_t$は、１時点前の状態と状態ノイズ$u_t$の関数として表される。  
時刻tにおける観測値$y_t$は、同時刻の状態$s_t$と観測されるノイズ$r_t$の関数として表される。

**状態を、以前の状態と状態の誤差（ノイズ）の関数**とし、**観測値を、状態と観測の誤差（ノイズ）の関数**と考えている。

ここでのノイズは、平均が0の正規分布に従うと考える。

## カルマンフィルター

**カルマンフィルター**は、状態を効率的に推定するための手法。

## 状態空間モデルの具体例

みかんの糖度は寒暖差や降雨量といった天候要因によって影響されることが知られている。単純化のため、「状態」を「天候の変化」とし、「観測値」を「みかんの糖度」とする。

みかんの糖度のついては測定が可能。要因となる天候の変化について、状態空間モデルでは、「天候」と「観測の誤差」に分けて考える。天候は観測しずらいものだが、状態空間モデルを用いて、状態である天候についての推定を行う。

## 状態空間モデルの強み

- **非定常なデータを扱える**
- **モデルの次数を固定しなくてよい**
- **欠損値を含むデータも扱える** (直接的に観測値を推定しないため)
- **観測値の変化の要因を説明できる**



