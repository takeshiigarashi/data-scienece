# 2.3 データの適正を判断する

## データバイアス

データバイアスとは、データに含まれる偏った認識や差別・偏見を含む偏りのこと。

**グループの特徴が違うことに起因するバイアス** ECサイトの広告の効果測定では、広告を出していないユーザーも分析対象にする必要がある

**集団の一部が脱落してしまうバイアス** 新薬の実験をAとBの２グループで実施するとき、片方のグループで多くの参加者が実験から脱落してしまうと、人数に顕著な差が生じてしまう。

**データの定義の違いに起因するバイアス** 商品のIDや商品名、カテゴリ名が統一されていないと正確に比較ができない。

**利用継続期間の違いに起因するバイアス** クラウドサービスで採取できるデータは、ロイヤリティの高い継続利用者層が中心のデータになるため、好意的なデータが多くなる。利用期間の短いユーザー層のデータも対象にすべき。

**顧客の意思の違いに起因するバイアス** 店舗利用後の調査に協力してくれる人は、すでに店舗に対して愛着を持っている可能性が高い。

## サンプリングバイアス

母集団から標本抽出を行う段階で生じる統計的偏りを**サンプリングバイアス**という。

対策としては
- 事前にデータの偏りの有無を確認する
- **層化抽出法**によって、サンプルをバランスよく抽出する
- アップサンプリングやダウンサンプリングを用いてサンプルの偏りを調整する。ただし、このときにさらなる人為的なバイアスを加えないよう注意が必要

偏りが精度にどれだけ影響をあたえるかは、データのボリュームに依存。<u>データのボリュームに応じて、データの偏りが精度に及ぼす影響を確認すること</u>が大切。

## 標本抽出とサンプリングバイアス

標本の数が不十分な場合、母集団を代表できていない偏った標本のみが抽出されるリスクが高く、母集団の情報を推定した際の信頼性が低下する。これは**標準誤差**が大きくなるということ。分析の目的に対して、どれくらいの推定精度が必要か（どれくらいの標準誤差が許容か）を定め、そこから逆算した目標を満たす標本サイズを決定するのがよい。

無作為抽出にもいくつかの手法がある

- **系統抽出法** 母集団を構成するすべてのデータを並べた上で、最初の標本のみ無作為に選び、それ以降は決められた等間隔で系統的に標本を選ぶ方法。乱数をふる回数が１回のみのため、単純無作為抽出よりもコストが低い。
- **多段抽出法** 都道府県をランダムに選び、市区町村をランダムに選び、などと、無作為抽出を複数の段階に分けて行う方法。各段階で世帯数に比例数確率で対象を無作為抽出する方法もある。  
段階数を多くすることで調査コストを下げることができるが、推定誤差が大きくなるリスクもある。
- **層化抽出法** 母集団をあらかじめ複数の層に分け、各層の中から必要な数だけ標本を無作為抽出する手法。層別抽出法や層化サンプリングとも呼ばれる。<u>サンプリングバイアスの軽減に効果的</u>。

## アルゴリズムバイアス

分析の手法やアルゴリズムが特定の変数を強調して学習したことにより、分析結果にバイアスが生じてしまうこと。原因がデータバイアスであることもあり、データバイアスとアルゴリズムバイアスは併存することもある。

<u>アルゴリズムバイアスへの対策としては、複数の手法で機械学習モデルを構築し、結果に違いが生じているかを比較すること</u>が挙げられる。

## データの網羅性

モデルは学習データからパターンを発見するため、学習データに全く含まれない事例に関しては、正しく予測することはできない。

## 外れ値と異常値

- **外れ値** とは、他のデータからみて極端に大きな値、または極端に小さな値のこと
- **異常値** とは、外れ値のうち、原因がわかっているものを指す。

外れ値は分析にとって意味がある外れ値である可能性もある。

平均値の計算では外れ値の影響は大きいため、トリム平均（両端にある外れ値を除いたデータで計算した平均値）を計算することがある。
外れ値の判断では、箱ひげ図や四分位範囲を用いることで見つけることができる。
